<div class="grid-view dms-file-list" ng-class="{'has-tree': showTree }" ng-controller="DMSFileListCtrl"
  ui-dms-uploader ui-tab-gate>
  <div class="navbar record-toolbar">
    <div class="navbar-inner">
      <div class="container">
        <div class="btn-group pull-left">
          <button class="btn" ng-click="onToggleTree()" tabIndex="-1"><i class="fa fa-bars"></i></button>
        </div>
        <div class="btn-group pull-left">
          <button class="btn btn-primary" ng-click="onNewFolder()" tabIndex="-1">New</button>
          <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" tabIndex="-1"><span class="caret"></span></button>
          <ul class="dropdown-menu">
            <li><a href="javascript:" ng-click="onNewFolder()" x-translate>Folder</a></li>
            <li class="divider"></li>
            <li><a href="javascript:" ng-click="onUpload()" x-translate>File upload</a></li>
          </ul>
        </div>
        <div class="btn-group pull-left">
          <button class="btn dropdown-toggle" data-toggle="dropdown" ng-disabled="!selection.length" tabIndex="-1" title="{{ 'More actions' | t }}"><i class="fa fa-ellipsis-v"></i></button>
          <ul class="dropdown-menu">
            <li><a href="javascript:" ng-click="onRename()" x-translate>Rename...</a></li>
            <li><a href="javascript:" ng-click="onPermissions()" ng-show="canShare()" x-translate>Permissions...</a></li>
            <li ng-show="canShowRelated()"><a href="javascript:" ng-click="onShowRelated()" x-translate>Attached to...</a></li>
            <li class="divider"></li>
            <li><a href="javascript:" ng-click="onDownload()" x-translate>Download</a></li>
            <li class="divider" ng-if="hasButton('delete')"></li>
            <li ng-if="hasButton('delete')" ng-disabled="!canDelete()">
              <a href="javascript:" ng-click="onDelete()" x-translate>Delete...</a>
            </li>
          </ul>
        </div>
        <div ui-record-pager="no-text" class="pull-right"></div>
        <div ui-filter-box x-handler="this" class="pull-right"></div>
        <ul class="breadcrumb">
          <li><a href="javascript:" ng-click="onFolder()" tabindex="-1"><i class="fa fa-home"></i></a> <span class="divider">/</span></li>
          <li ng-repeat="folder in currentPaths" ng-class="{'active': $last}">
            <span ng-if="$last">{{folder.fileName}}</span>
            <a ng-if="!$last" href="javascript:" ng-click="onFolder(folder)">{{folder.fileName}}</a>
            <span class="divider">/</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="dms-folder-tree" ui-dms-folders></div>
  <div ui-view-grid x-view="schema" x-data-view="dataView" x-handler="this" x-no-filter="true" x-on-init="onGridInit"></div>
  <div class="dms-file-upload">
    <input type="file" class="upload-input hide" multiple>
    <div class="upload-overlay"></div>
    <div class="upload-dropzone">
      <div class="drop-image">
        <i class="fa fa-upload"></i>
      </div>
      <div class="drop-message" x-translate>Drop your files to start upload.</div>
    </div>
    <div class="upload-files panel" ng-show="uploadQueue.length">
      <div class="panel-header">
        <div class="panel-title" x-translate>Uploading files...</div>
      </div>
      <div class="panel-body">
        <table>
          <tr ng-repeat="info in uploadQueue">
            <td width="5%">{{info.file.name}}</td>
            <td>
              <div class="progress progress-striped"><div class="bar" ng-style="{width: info.progress}"></div></div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <div ui-dms-members-popup></div>
</div>
