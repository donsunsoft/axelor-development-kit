<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_4.0.xsd">

  <grid title="Permissions" name="permission-grid" model="com.axelor.auth.db.Permission">
    <field name="name" />
    <field name="object" />
    <field name="canRead" width="100" />
    <field name="canWrite" width="100" />
    <field name="canCreate" width="100" />
    <field name="canRemove" width="100" />
    <field name="canExport" width="100" />
  </grid>

  <form title="Permission" name="permission-form" model="com.axelor.auth.db.Permission">
    <panel title="Overview">
      <field name="name" />
      <field name="object" />
    </panel>
    <panel title="Allow" itemSpan="2">
      <field name="canRead" widget="inline-checkbox" />
      <field name="canWrite" widget="inline-checkbox" />
      <field name="canCreate" widget="inline-checkbox" />
      <field name="canRemove" widget="inline-checkbox" />
      <field name="canExport" widget="inline-checkbox" />
    </panel>
    <panel title="Condition" itemSpan="12">
      <field name="condition" title="Condition" />
      <field name="conditionParams" title="Params" />
    </panel>
  </form>
  
  <grid title="Permissions" name="permission-assistant-grid" model="com.axelor.auth.db.PermissionAssistant">
    <field name="metaFile" />
    <field name="importDate" />
    <field name="createdBy" />
    <field name="updatedBy" />
  </grid>
  
   <form name="permission-assistant-form" title="Permission Assistant" model="com.axelor.auth.db.PermissionAssistant">
    <panel>
      <panel-related field="groupSet"/>
      <panel-related field="objectSet"/>
      <field name="metaFile" colSpan="6" x-can-delete="true" x-show-icons="select">
        	<editor x-show-titles="false">
        		<field name="fileName" colSpan="8"  />
            <field name="content" widget="binary" colSpan="4" />
            <field name="filePath" hidden="true"/>
          </editor>
      </field>
      <field name="language" />
      <button name="createFile" title="Create file" colSpan="3" onClick="save,action-permission-method-create-file"/>
      <button name="importPermissions" title="Import permissions" readonlyIf="metaFile == null" colSpan="3" onClick="save,action-permission-method-import-permissions,save"/>
      <panel title="Details" readonly="true" colSpan="12">
        <field name="importDate" colSpan="4"/>
        <field name="createdBy" colSpan="4"/>
        <field name="updatedBy" colSpan="4"/>
      </panel>
      <field name="log" colSpan="12" readonly="true" />
    </panel>
  </form>
  
   <action-method name="action-permission-method-create-file" model="com.axelor.auth.db.PermissionAssistant">
       <call class="com.axelor.auth.web.PermissionAssitantController" method="createFile"/>
   </action-method>
   
   <action-method name="action-permission-method-import-permissions" model="com.axelor.auth.db.PermissionAssistant">
       <call class="com.axelor.auth.web.PermissionAssitantController" method="importPermissions"/>
   </action-method>

</object-views>
